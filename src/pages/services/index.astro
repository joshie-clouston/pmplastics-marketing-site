---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

export const prerender = true;

const services = (await getCollection('services', ({ data }) => !data.draft))
  .sort((a, b) => a.data.order - b.data.order);
---
<BaseLayout title="Services" description="Full-service plastic fabrication — CNC cutting, laser engraving, vacuum forming, thermo forming, and more. P&M Plastics, Gold Coast.">
  <section class="section bg-secondary text-secondary-foreground">
    <div class="container mx-auto text-center">
      <h1 class="text-4xl sm:text-5xl font-900 tracking-tight mb-4" data-animate="fade-up">Our Services</h1>
      <p class="text-lg text-gray-400 max-w-2xl mx-auto" data-animate="fade-up">
        Advanced CNC equipment, 30 years of expertise, and a full range of plastic fabrication capabilities — all under one roof.
      </p>
    </div>
  </section>

  <section class="section bg-white">
    <div class="container mx-auto">
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6" data-animate="stagger">
        {services.map((service) => (
          <a href={`/services/${service.id}`} class="group block p-6 rounded-xl border border-border hover:border-primary/30 hover:shadow-lg transition-all duration-300">
            <h2 class="font-700 text-xl mb-2 group-hover:text-primary transition-colors">{service.data.title}</h2>
            <p class="text-muted-foreground text-sm leading-relaxed mb-4">{service.data.description}</p>
            <span class="text-primary text-sm font-600 inline-flex items-center gap-1">
              Learn more
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <section class="section bg-muted">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl sm:text-3xl font-800 mb-4">Need something custom?</h2>
      <p class="text-muted-foreground mb-6 max-w-lg mx-auto">Whatever the material, whatever the shape — we can fabricate it. Tell us about your project.</p>
      <a href="/quote" class="btn btn-primary btn-lg">Get a Quote</a>
    </div>
  </section>
</BaseLayout>
